<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>AR Projesi</title>

  <!-- A-Frame -->
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>

  <!-- AR.js -->
  <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js/aframe/build/aframe-ar.js"></script>

  <style>
    body {
      margin: 0;
      overflow: hidden;
      font-family: monospace;
    }

    /* LOG PANEL (başta gizli) */
    #logPanel {
      position: fixed;
      right: 10px;
      bottom: 60px;
      width: 260px;
      max-height: 50vh;
      background: rgba(0, 0, 0, 0.75);
      color: #00ffcc;
      padding: 10px;
      box-sizing: border-box;
      font-size: 12px;
      overflow-y: auto;
      z-index: 9999;
      display: none;
      border-radius: 8px;
    }

    #logPanel h3 {
      margin: 0 0 8px 0;
      font-size: 14px;
      color: #ffffff;
      border-bottom: 1px solid #444;
      padding-bottom: 5px;
    }

    /* SAĞ ALT BUTON */
    #logBtn {
      position: fixed;
      right: 10px;
      bottom: 10px;
      padding: 10px 14px;
      background: rgba(0, 0, 0, 0.8);
      color: #00ffcc;
      border: 1px solid #00ffcc;
      border-radius: 20px;
      font-size: 12px;
      cursor: pointer;
      z-index: 10000;
    }

    #logBtn:active {
      transform: scale(0.95);
    }
  </style>
</head>

<body>

  <!-- LOG PANEL -->
  <div id="logPanel">
    <h3>LOG / VERSİYON</h3>
    <div id="logContent"></div>
  </div>

  <!-- LOG AÇ/KAPA BUTONU -->
  <button id="logBtn">LOG</button>

  <!-- AR SCENE -->
  <a-scene embedded arjs="sourceType: webcam; debugUIEnabled: false;">
    
    <!-- SENİN QR MARKER -->
    <a-marker
      type="pattern"
      url="qr/pattern-ar_projesi.patt"
      id="qrMarker">

      <a-box
        position="0 0.5 0"
        color="red"
        animation="property: rotation; to: 0 360 0; loop: true; dur: 3000">
      </a-box>

    </a-marker>

    <a-entity camera></a-entity>
  </a-scene>

  <!-- SCRIPT -->
  <script>
    const logPanel = document.getElementById("logPanel");
    const logContent = document.getElementById("logContent");
    const logBtn = document.getElementById("logBtn");
    const marker = document.getElementById("qrMarker");

    function logYaz(metin) {
      const zaman = new Date().toLocaleTimeString();
      logContent.innerHTML += `[${zaman}] ${metin}<br>`;
      logContent.scrollTop = logContent.scrollHeight;
    }

    // Log panel aç/kapa
    logBtn.addEventListener("click", () => {
      logPanel.style.display =
        logPanel.style.display === "none" ? "block" : "none";
    });

    // Başlangıç logları
    logYaz("AR Projesi v1.2");
    logYaz("Özel QR marker yüklendi");
    logYaz("Kamera başlatılıyor...");

    marker.addEventListener("markerFound", () => {
      logYaz("QR marker algılandı ✔");
    });

    marker.addEventListener("markerLost", () => {
      logYaz("QR marker kayboldu ✖");
    });
  </script>

</body>
</html>
